{% extends 'SkaphandrusAppBundle::form_layout.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/skaphandrusapp/js/app.js') }}"></script>
{% endblock %}


{% block stylesheets %}
    {{ parent() }}
{% endblock %}

{% block heading_title %}
    {{ "page.business_booking.h1.title"|trans }}
{% endblock %}


{% block heading_breadcrumbs %}
    <ol class="breadcrumb">
        <li><a href="{{ url_to_dashboard() }}">{{ "breadcrumb.dashboard"|trans }}</a></li>
        <li><a href = "{{ path('booking_admin')}}" >{{ "breadcrumb.booking"|trans }} </a></li>
        <li class="active"><strong>{{ "breadcrumb.show_business_booking"|trans }}</strong></li>
    </ol>
{% endblock %}

{% block heading_action %}
    <a class="btn btn-success" href="{{ path('business_booking_admin', { 'id': entity.business.id }) }}">{{ "form.common.btn.back_to_list"|trans }}</a>
{% endblock %}

{% block form_title_description %}
    {{ "page.business_booking.text.description"|trans }}
{% endblock %}

{% block body -%}

    <h4>{{ "page.booking.h4.booking_information"|trans }}</h4>
    <table class="table table-bordered" >
        <tbody>
            <tr>
                <th>{{ "form.booking.label.user"|trans }}</th>
                <td>{{ link_to_user(entity.fosuser) }}</td>
            </tr>
            <tr>
                <th>{{ "form.booking.label.begin_at"|trans }}</th>
                <td>{{ entity.beginAt|date('Y-m-d') }}</td>
            </tr>
            <tr>
                <th>{{ "form.booking.label.end_at"|trans }}</th>
                <td>{{ entity.endAt|date('Y-m-d') }}</td>
            </tr>
            <tr>
                <th>{{ "form.booking.label.certification_level"|trans }}</th>
                <td>
                    {% if entity.certificationLevel == 0 %}
                        {{ "form.booking.label.certification_level_basic"|trans }}
                    {% elseif entity.certificationLevel == 1 %}
                        {{ "form.booking.label.certification_level_intermediate"|trans }}
                    {% else %}
                        {{ "form.booking.label.certification_level_advanced"|trans }}
                    {% endif %}
                </td>
            </tr>
            {% if entity.observations %}
                <tr>
                    <th>{{ "form.booking.label.observations"|trans }}</th>
                    <td>{{ entity.observations }}</td>
                </tr>
            {% endif %}
            {% if entity.phoneNumber %}
                <tr>
                    <th>{{ "form.booking.label.phonenumber"|trans }}</th>
                    <td>{{ entity.phoneNumber }}</td>
                </tr>
            {% endif %}
            <tr>
                <th>{{ "form.booking.label.email"|trans }}</th>
                <td>{{ entity.email }}</td>
            </tr>
        </tbody>
    </table>

    {% set dive = '' %}
    {% for bookingDive in entity.bookingDive %}
        {% set dive = bookingDive %}
    {% endfor %}
    {% if dive %}
        <h4>{{ "page.booking.h4.booking_dive_information"|trans }}</h4>
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>{{ "form.booking_dive.label.pax"|trans }}</th>
                    <th>{{ "form.booking_dive.label.number_dives"|trans }}</th>
                    <th style="width: 25%">{{ "form.booking_dive.label.date_at"|trans }}</th>
                </tr>
            </thead>
            <tbody>
                {% for dive in entity.bookingDive %}
                    <tr>
                        <td>
                            {% if dive.pax < 2 %}
                                {{ dive.pax }} {{ "label.person"|trans }}
                            {% else %}
                                {{ dive.pax }} {{ "label.persons"|trans }}
                            {% endif %}
                        </td>
                        <td>
                            {% if dive.numberDives < 2 %}
                                {{ dive.numberDives }} {{ "label.dive"|trans }}
                            {% else %}
                                {{ dive.numberDives }} {{ "label.dives"|trans }}
                            {% endif %}
                        </td>
                        <td style="width: 25%">{{ dive.dateAt|date('Y-m-d') }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

    {% set other = '' %}
    {% for otherActivity in entity.bookingOtherActivity %}
        {% set other = otherActivity %}
    {% endfor %}
    {% if other %}
        <h4>{{ "page.booking.h4.booking_other_information"|trans }}</h4>
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th style="width: 25%">{{ "form.booking_other_activity.label.other_activity"|trans }}</th>
                    <th style="width: 25%">{{ "form.booking_other_activity.label.schedule"|trans }}</th>
                    <th style="width: 25%">{{ "form.booking_other_activity.label.pax"|trans }}</th>
                    <th style="width: 25%">{{ "form.booking_other_activity.label.date_at"|trans }}</th>
                </tr>
            </thead>
            <tbody>
                {% for other in entity.bookingOtherActivity %}
                    <tr>
                        <td style="width: 25%">{{ other.otherActivity }}</td>
                        <td style="width: 25%">
                            {% if other.schedule == 0 %}
                                {{ "form.booking_other_activity.label.schedule_morning"|trans }}
                            {% elseif other.schedule == 1 %}
                                {{ "form.booking_other_activity.label.schedule_afternoon"|trans }}
                            {% else %}
                                {{ "form.booking_other_activity.label.schedule_night"|trans }}
                            {% endif %}
                        </td>
                        <td style="width: 25%">
                            {% if other.pax < 2 %}
                                {{ other.pax }} {{ "label.person"|trans }}
                            {% else %}
                                {{ other.pax }} {{ "label.persons"|trans }}
                            {% endif %}
                        </td>
                        <td style="width: 25%">{{ other.dateAt|date('Y-m-d') }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}


{% endblock %}
