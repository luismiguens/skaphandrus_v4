{% extends '@SkaphandrusAppBundle/Resources/views/content_layout.html.twig' %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/skaphandrusapp/js/jstree/dist/themes/default/style.min.css') }}" />
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/skaphandrusapp/js/jstree/dist/jstree.min.js') }}"></script>
    <script>
      $(function () {
        $("#jstree")
        .jstree({
          "core": {
            "data": {
              "url": "/{{ app.request.locale }}/species/source",
              "data": function (n) {
                return { id: n.id === '#' ? "li.kingdom.0" : n.id };
              }
            }
          }
        })
        .bind("select_node.jstree", function (e, data) {
          var href = data.node.a_attr.href;
          document.location.href = href;
        });
      });
    </script>
{% endblock %}

{% block body %}
    <h2>Taxonomy Page</h2>

    <div style="text-align: left;" id="jstree"></div>
{% endblock %}
