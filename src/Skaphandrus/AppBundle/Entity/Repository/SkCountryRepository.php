<?php

namespace Skaphandrus\AppBundle\Entity\Repository;

use Doctrine\ORM\EntityRepository;
use Symfony\Component\Intl\Intl;

/**
 * SkCountryRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class SkCountryRepository extends EntityRepository {

    public function findBySlug($slug) {
        $countries = Intl::getRegionBundle()->getCountryNames();
        $country = FALSE;

        if ($key = array_search($slug, $countries)) {
            return $this->findOneByName($key);
        }

        return NULL;
    }
}
